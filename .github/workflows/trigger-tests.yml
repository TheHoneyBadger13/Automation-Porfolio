name: Trigger Downstream Tests

on:
  push:
    branches:
      - main # Or any other branch you want to trigger from

jobs:
  trigger:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger tests in the automation repository
        uses: peter-evans/repository-dispatch@v3
        with:
          # Requires a fine-grained PAT with 'Repository permissions > Contents: Read and write' on the target repo.
          token: ${{ secrets.AUTOMATION_REPO_PAT }}
          # The target repository in `owner/repo` format
          repository: TheHoneyBadger13/Automation-Porfolio
          # The event type that the target workflows are listening for
          event-type: run-regression-tests
